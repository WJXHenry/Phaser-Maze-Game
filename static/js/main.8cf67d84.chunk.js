(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t){e.exports={BLACK:"#000000",BLACK_0x:"0x000000",GOLD:"#f9a602",GOLD_0x:"0xf9a602",GRAY:"#cccccc",GRAY_0x:"0xcccccc",WHITE:"#ffffff",WHITE_0x:"0xffffff"}},1446:function(e,t,i){},1447:function(e,t,i){"use strict";i.r(t);var n=i(49),s=i.n(n),a=i(539),o=i.n(a),h=(i(546),i(17)),r=i(18),c=i(32),u=i(31),d=i(33),l=i(5),g=i.n(l),m=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"Movement"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"updateMovement",value:function(e,t){"up"===t?(e.y-=2,e.y<0&&(e.y=0)):"down"===t?(e.y+=2,e.y>600&&(e.y=600)):"left"===t?(e.x-=2,e.x<0&&(e.x=0)):"right"===t&&(e.x+=2,e.x>800&&(e.x=800))}},{key:"preload",value:function(){this.load.setBaseURL("https://raw.githubusercontent.com/wjxhenry/website/master"),this.load.image("player","assets/test/red.png")}},{key:"create",value:function(){var e=this;this.cameras.main.setBackgroundColor("#000000"),this.counter=0,this.keys=this.input.keyboard.addKeys({up:"W",down:"S",left:"A",right:"D"}),this.input.keyboard.addKey("ESC").on("down",function(){e.scene.start("MainMenu")}),this.player=this.add.sprite(0,0,"player"),console.log("Start Movement")}},{key:"update",value:function(){this.counter++,this.counter%1===0&&(this.counter=0,this.keys.up.isDown&&(console.log("Up"),this.updateMovement(this.player,"up")),this.keys.down.isDown&&(console.log("Down"),this.updateMovement(this.player,"down")),this.keys.left.isDown&&(console.log("Left"),this.updateMovement(this.player,"left")),this.keys.right.isDown&&(console.log("Right"),this.updateMovement(this.player,"right")))}}]),t}(g.a.Scene),p=i(165);function f(e){var t=e.config.width;return{screenLength:t,screenSpaceUnit:t/20,screenCenter:t/2,textSize1:t/10,textSize2:t/15,textSize3:t/18,textSize4:t/22}}var y=i(10),S={SWIPE_RIGHT:0,SWIPE_LEFT:1,SWIPE_UP:2,SWIPE_DOWN:3,SINGLE_TAP:4,DOUBLE_TAP:5,TP_SWIPE_RIGHT:6,NONE_DETECTED:7};function w(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.on("pointerup",function(e){t(function(e,t){var i=t.swipeThreshold||100,n=(e.upTime-e.downTime)/1e3,s=(e.upX-e.downX)/n,a=(e.upY-e.downY)/n,o=Math.abs(s),h=Math.abs(a);if(o>h&&o>i)return s<0?S.SWIPE_LEFT:S.SWIPE_RIGHT;if(h>o&&h>i)return a<0?S.SWIPE_UP:S.SWIPE_DOWN;return S.SINGLE_TAP}(e,i))})}var b=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"MainMenu"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=Object(p.a)({},{maxGridSize:35,minGridSize:10,gridSize:20,maxSideLength:15,minSideLength:10,sideLength:10,gameMode:0},e),this.handleGesture=this.handleGesture.bind(this)}},{key:"preload",value:function(){this.load.setBaseURL("https://raw.githubusercontent.com/wjxhenry/website/master")}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(y.WHITE),this.keys=this.input.keyboard.addKeys({up:"W",arrowUp:"up",down:"S",arrowDown:"down",select:"Enter"}),w(this.input,this.handleGesture),this.gameDimensions=f(this.game),this.choice=0,this.doubleTapTimer=0,this.doubleTapCooldown=200,this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Yet Another Maze",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize2}).setOrigin(.5,.5);var e=this.add.text(this.gameDimensions.screenCenter,8*this.gameDimensions.screenSpaceUnit,"Start Game",{fontFamily:"Ubuntu",fill:y.GOLD,fontSize:this.gameDimensions.textSize3});e.setOrigin(.5,.5);var t=this.add.text(this.gameDimensions.screenCenter,12*this.gameDimensions.screenSpaceUnit,"Settings",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize3});t.setOrigin(.5,.5);var i=this.add.text(this.gameDimensions.screenCenter,16*this.gameDimensions.screenSpaceUnit,"Exit",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize3});i.setOrigin(.5,.5),this.options=[{text:e,scene:"StartGame"},{text:t,scene:"Settings"},{text:i,scene:"Movement"}]}},{key:"handleGesture",value:function(e){e===S.SWIPE_UP?this.updateChoice(-1):e===S.SWIPE_DOWN?this.updateChoice(1):e===S.SINGLE_TAP&&((new Date).getTime()-this.doubleTapTimer<this.doubleTapCooldown&&this.scene.start(this.options[this.choice].scene,this.settings),this.doubleTapTimer=(new Date).getTime())}},{key:"update",value:function(){(g.a.Input.Keyboard.JustDown(this.keys.up)||g.a.Input.Keyboard.JustDown(this.keys.arrowUp))&&this.updateChoice(-1),(g.a.Input.Keyboard.JustDown(this.keys.down)||g.a.Input.Keyboard.JustDown(this.keys.arrowDown))&&this.updateChoice(1),g.a.Input.Keyboard.JustDown(this.keys.select)&&this.scene.start(this.options[this.choice].scene,this.settings)}},{key:"updateChoice",value:function(e){var t=this.choice+e;t>-1&&t<this.options.length&&(this.options[this.choice].text.setFill(y.BLACK),this.options[t].text.setFill(y.GOLD),this.choice=t)}}]),t}(g.a.Scene),v=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"Settings"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e,this.handleGesture=this.handleGesture.bind(this)}},{key:"preload",value:function(){this.load.setBaseURL("https://raw.githubusercontent.com/wjxhenry/website/master")}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(y.WHITE),this.keys=this.input.keyboard.addKeys({up:"W",arrowUp:"up",down:"S",arrowDown:"down",left:"A",arrowLeft:"left",right:"D",arrowRight:"right",select:"Enter"}),w(this.input,this.handleGesture),this.gameDimensions=f(this.game),this.gameModes=["Solo","Two Player","Race","Chase","Escape"],this.choice=0,this.doubleTapTimer=0,this.doubleTapCooldown=200,this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Settings",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5);var e=this.add.text(this.gameDimensions.screenCenter,8*this.gameDimensions.screenSpaceUnit,"Grid size: ".concat(this.settings.gridSize),{fontFamily:"Ubuntu",fill:y.GOLD,fontSize:this.gameDimensions.textSize3});e.setOrigin(.5,.5);var t=this.add.text(this.gameDimensions.screenCenter,11*this.gameDimensions.screenSpaceUnit,"Side length: ".concat(this.settings.sideLength),{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize3});t.setOrigin(.5,.5);var i=this.add.text(this.gameDimensions.screenCenter,14*this.gameDimensions.screenSpaceUnit,this.gameModes[this.settings.gameMode],{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize3});i.setOrigin(.5,.5);var n=this.add.text(this.gameDimensions.screenCenter,17*this.gameDimensions.screenSpaceUnit,"Return",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize3});n.setOrigin(.5,.5),this.options=[e,t,i,n]}},{key:"handleGesture",value:function(e){e===S.SWIPE_UP?this.updateChoice(-1):e===S.SWIPE_DOWN?this.updateChoice(1):e===S.SWIPE_RIGHT?this.updateSelection(1):e===S.SWIPE_LEFT?this.updateSelection(-1):e===S.SINGLE_TAP&&((new Date).getTime()-this.doubleTapTimer<this.doubleTapCooldown&&3===this.choice&&this.scene.start("MainMenu",this.settings),this.doubleTapTimer=(new Date).getTime())}},{key:"update",value:function(){(g.a.Input.Keyboard.JustDown(this.keys.up)||g.a.Input.Keyboard.JustDown(this.keys.arrowUp))&&this.updateChoice(-1),(g.a.Input.Keyboard.JustDown(this.keys.down)||g.a.Input.Keyboard.JustDown(this.keys.arrowDown))&&this.updateChoice(1),(g.a.Input.Keyboard.JustDown(this.keys.right)||g.a.Input.Keyboard.JustDown(this.keys.arrowRight))&&this.updateSelection(1),(g.a.Input.Keyboard.JustDown(this.keys.left)||g.a.Input.Keyboard.JustDown(this.keys.arrowLeft))&&this.updateSelection(-1),g.a.Input.Keyboard.JustDown(this.keys.select)&&3===this.choice&&this.scene.start("MainMenu",this.settings)}},{key:"updateChoice",value:function(e){var t=this.choice+e;t>-1&&t<this.options.length&&(this.options[this.choice].setFill(y.BLACK),this.options[t].setFill(y.GOLD),this.choice=t)}},{key:"updateSelection",value:function(e){0===this.choice?this.updateGridSize(e):1===this.choice?this.updateSideLength(e):2===this.choice&&this.updateGameMode(e)}},{key:"updateGridSize",value:function(e){var t=this.settings.gridSize+e;t>this.settings.minGridSize-1&&t<this.settings.maxGridSize+1&&(this.options[0].setText("Grid size: ".concat(t)),this.settings.gridSize=t)}},{key:"updateSideLength",value:function(e){var t=this.settings.sideLength+e;t>this.settings.minSideLength-1&&t<this.settings.maxSideLength+1&&(this.options[1].setText("Side length: ".concat(t)),this.settings.sideLength=t)}},{key:"updateGameMode",value:function(e){var t=this.settings.gameMode+e;t>-1&&t<this.gameModes.length&&(this.options[2].setText(this.gameModes[t]),this.settings.gameMode=t)}}]),t}(g.a.Scene),D=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(h.a)(this,e),this.alist={},i.forEach(function(e){t.addVertex(e)}),n.forEach(function(e){t.addEdge(e)})}return Object(r.a)(e,[{key:"getVertices",value:function(){return new Set(Object.keys(this.alist))}},{key:"getEdges",value:function(){var e=this,t=[];return Object.keys(this.alist).forEach(function(i){e.alist[i].forEach(function(e){Number.isInteger(e)?t.push([Number(i),e]):t.push([i,e])})}),t}},{key:"addVertex",value:function(e){e in this.alist||(this.alist[e]=new Set)}},{key:"addEdge",value:function(e){if(!this.isVertex(e[0])||!this.isVertex(e[1]))throw new Error("An endpoint is not in graph");this.alist[e[0]].add(e[1])}},{key:"isVertex",value:function(e){return e in this.alist}},{key:"isEdge",value:function(e){return e[0]in this.alist&&this.alist[e[0]].has(e[1])}},{key:"neighbours",value:function(e){if(!this.isVertex(e))throw new Error("Vertex not in graph");return Array.from(this.alist[e])}}],[{key:"isWalk",value:function(e,t){if(0===t.length)return!1;if(1===t.length)return e.isVertex(t[0]);for(var i=0;i<t.length-1;i++)if(!e.isEdge([t[i],t[i+1]]))return!1;return!0}},{key:"isPath",value:function(e,t){return!(new Set(t).size<t.length)&&this.isWalk(e,t)}}]),e}(),k=i(540),E=function(e){function t(e,i,n){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.WHITE_0x;return Object(h.a)(this,t),(s=Object(c.a)(this,Object(u.a)(t).call(this,n))).size=n,s.game=e,s.graphics=i,s.gameDimensions=f(s.game),s.sideLength=(s.gameDimensions.screenLength-2)/n,s.colour=a,s}return Object(d.a)(t,e),Object(r.a)(t,[{key:"drawMaze",value:function(){var e=this;this.graphics.fillStyle(this.colour),this.maze.getVertices().forEach(function(t){var i=t.split(","),n=Number(i[0]),s=Number(i[1]),a=n*e.sideLength+1,o=s*e.sideLength+1,h=e.sideLength-2,r=e.sideLength-2;e.maze.isEdge([t,"".concat(n-1,",").concat(s)])&&(a-=1,h+=1),e.maze.isEdge([t,"".concat(n+1,",").concat(s)])&&(h+=1),e.maze.isEdge([t,"".concat(n,",").concat(s-1)])&&(o-=1,r+=1),e.maze.isEdge([t,"".concat(n,",").concat(s+1)])&&(r+=1),e.graphics.fillRect(a,o,h,r)})}},{key:"fillGrid",value:function(e,t){this.graphics.fillStyle(t),this.graphics.fillRect(e.x*this.sideLength+1,e.y*this.sideLength+1,this.sideLength-2,this.sideLength-2)}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(h.a)(this,e),this.maze=this._createGrid(t),this._createMaze("".concat(Math.floor(t/2),",").concat(Math.floor(t/2)))}return Object(r.a)(e,[{key:"getVertices",value:function(){return this.maze.getVertices()}},{key:"isEdge",value:function(e){return this.maze.isEdge(e)}},{key:"_createGrid",value:function(e){for(var t=new D,i=0;i<e;i++)for(var n=0;n<e;n++)t.addVertex("".concat(i,",").concat(n));return t}},{key:"_createMaze",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&(n=this.getVertices()),null==i&&(i=new Set(e));var s=Object(k.shuffle)(["up","down","left","right"]),a=e.split(",").map(function(e){return parseInt(e)}),o="".concat(a[0],",").concat(a[1]-1),h="".concat(a[0],",").concat(a[1]+1),r="".concat(a[0]-1,",").concat(a[1]),c="".concat(a[0]+1,",").concat(a[1]);s.forEach(function(s){"up"===s?n.has(o)&&!i.has(o)&&(t.maze.addEdge([e,o]),t.maze.addEdge([o,e]),i.add(o),t._createMaze(o,i,n)):"down"===s?n.has(h)&&!i.has(h)&&(t.maze.addEdge([e,h]),t.maze.addEdge([h,e]),i.add(h),t._createMaze(h,i,n)):"left"===s?n.has(r)&&!i.has(r)&&(t.maze.addEdge([e,r]),t.maze.addEdge([r,e]),i.add(r),t._createMaze(r,i,n)):"right"===s&&n.has(c)&&!i.has(c)&&(t.maze.addEdge([e,c]),t.maze.addEdge([c,e]),i.add(c),t._createMaze(c,i,n))})}}]),e}()),O={UP:0,DOWN:1,LEFT:2,RIGHT:3},x=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.GOLD_0x;Object(h.a)(this,e),this.maze=t,this.position=i,this.colour=n}return Object(r.a)(e,[{key:"moveCharacter",value:function(e){var t=Object(p.a)({},this.position);e===O.UP?(this.position.y-=1,this.position.y<0&&(this.position.y=0)):e===O.DOWN?(this.position.y+=1,this.position.y>this.maze.size-1&&(this.position.y=this.maze.size-1)):e===O.LEFT?(this.position.x-=1,this.position.x<0&&(this.position.x=0)):e===O.RIGHT&&(this.position.x+=1,this.position.x>this.maze.size-1&&(this.position.x=this.maze.size-1)),this.maze.isEdge(["".concat(t.x,",").concat(t.y),"".concat(this.position.x,",").concat(this.position.y)])?(this.maze.fillGrid(t,this.maze.colour),this.maze.fillGrid(this.position,this.colour)):this.position=t}},{key:"drawCharacter",value:function(){this.maze.fillGrid(this.position,this.colour)}}],[{key:"DIRECTIONS",get:function(){return O}}]),e}(),z=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"StartGame"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e,this.directions={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"},this.handleGesture=this.handleGesture.bind(this)}},{key:"preload",value:function(){}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(y.BLACK_0x),this.keys=this.input.keyboard.addKeys({up:"W",arrowUp:"up",down:"S",arrowDown:"down",left:"A",arrowLeft:"left",right:"D",arrowRight:"right",exit:"Esc"}),w(this.input,this.handleGesture),this.graphics=this.add.graphics({x:1,y:1}),this.maze=new E(this.game,this.graphics,this.settings.gridSize);this.character=new x(this.maze,{x:0,y:0}),this.endPoint={x:this.settings.gridSize-1,y:this.settings.gridSize-1},this.maze.drawMaze(),this.maze.fillGrid(this.endPoint,y.GRAY_0x),this.character.drawCharacter(),this.timer=(new Date).getTime()}},{key:"handleGesture",value:function(e){e===S.SWIPE_LEFT?this.updateMovement(x.DIRECTIONS.LEFT):e===S.SWIPE_RIGHT?this.updateMovement(x.DIRECTIONS.RIGHT):e===S.SWIPE_UP?this.updateMovement(x.DIRECTIONS.UP):e===S.SWIPE_DOWN&&this.updateMovement(x.DIRECTIONS.DOWN)}},{key:"updateMovement",value:function(e){this.character.moveCharacter(e),this.character.position.x===this.endPoint.x&&this.character.position.y===this.endPoint.y&&this.scene.start("EndScreen",{settings:this.settings,results:{gameMode:0,time:Math.floor(((new Date).getTime()-this.timer)/1e3)}})}},{key:"update",value:function(){g.a.Input.Keyboard.JustDown(this.keys.exit)&&this.scene.start("MainMenu",this.settings),(g.a.Input.Keyboard.JustDown(this.keys.up)||g.a.Input.Keyboard.JustDown(this.keys.arrowUp))&&this.updateMovement(x.DIRECTIONS.UP),(g.a.Input.Keyboard.JustDown(this.keys.down)||g.a.Input.Keyboard.JustDown(this.keys.arrowDown))&&this.updateMovement(x.DIRECTIONS.DOWN),(g.a.Input.Keyboard.JustDown(this.keys.left)||g.a.Input.Keyboard.JustDown(this.keys.arrowLeft))&&this.updateMovement(x.DIRECTIONS.LEFT),(g.a.Input.Keyboard.JustDown(this.keys.right)||g.a.Input.Keyboard.JustDown(this.keys.arrowRight))&&this.updateMovement(x.DIRECTIONS.RIGHT)}}]),t}(g.a.Scene),I=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"EndScreen"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e.settings,this.results=e.results,this.gameModes={SOLO:0,TWO_PLAYER:1,RACE:2,CHASE:3,ESCAPE:4},this.handleGesture=this.handleGesture.bind(this)}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(y.WHITE),this.keys=this.input.keyboard.addKeys({continue:"Enter"}),w(this.input,this.handleGesture),this.gameDimensions=f(this.game),this.drawScreen()}},{key:"drawScreen",value:function(){(this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Game Over",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5),this.results.gameMode===this.gameModes.SOLO)?this.add.text(this.gameDimensions.screenCenter,9*this.gameDimensions.screenSpaceUnit,"Time: ".concat(this.results.time," s"),{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize2}).setOrigin(.5,.5):(this.results.gameMode,this.gameModes.TWO_PLAYER);this.add.text(this.gameDimensions.screenCenter,15*this.gameDimensions.screenSpaceUnit,"Press enter to exit to menu.",{fontFamily:"Ubuntu",fill:y.BLACK,fontSize:this.gameDimensions.textSize4}).setOrigin(.5,.5)}},{key:"handleGesture",value:function(e){e===S.SINGLE_TAP&&this.scene.start("MainMenu",this.settings)}},{key:"update",value:function(){g.a.Input.Keyboard.JustDown(this.keys.continue)&&this.scene.start("MainMenu",this.settings)}}]),t}(g.a.Scene),T=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this._getDimensions(),t={type:g.a.AUTO,parent:"phaser-parent",pixelArt:!0,width:.8*e,height:.8*e,physics:{default:"arcade",arcade:{gravity:{y:200}}},scene:[b,m,v,z,I]};new g.a.Game(t)}},{key:"_getDimensions",value:function(){var e=window.innerWidth,t=window.innerHeight;return e<t?e:t}},{key:"render",value:function(){return s.a.createElement("div",{id:"phaser-parent"})}}]),t}(s.a.Component),L=(i(1446),function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(T,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},540:function(e,t){e.exports={shuffle:function(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[i],e[i]=t;return e}}},541:function(e,t,i){e.exports=i(1447)},546:function(e,t,i){}},[[541,1,2]]]);
//# sourceMappingURL=main.8cf67d84.chunk.js.map