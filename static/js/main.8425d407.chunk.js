(this["webpackJsonpphaser-maze-game"]=this["webpackJsonpphaser-maze-game"]||[]).push([[0],{1485:function(e,t,i){},1486:function(e,t,i){"use strict";i.r(t);var s=i(50),n=i.n(s),a=i(559),o=i.n(a),h=(i(566),i(12)),r=i(13),c=i(22),u=i(21),d=i(23),l=i(5),p=i.n(l),m=i(69),g={SOLO:{id:0,scene:"GamemodeSolo",text:"Solo"},TWO_PLAYER:{id:1,scene:"GamemodeTwoPlayer",text:"Two Player"},RACE:{id:2,scene:"GamemodeRace",text:"Race"},CHASE:{id:3,scene:"GamemodeChase",text:"Chase"},ESCAPE:{id:4,scene:"GamemodeEscape",text:"Escape"}};function f(e){return 0===e?g.SOLO:1===e?g.TWO_PLAYER:2===e?g.RACE:3===e?g.CHASE:4===e?g.ESCAPE:{}}function y(e){var t=e.config.width;return{screenLength:t,screenSpaceUnit:t/20,screenCenter:t/2,textSize1:t/10,textSize2:t/15,textSize3:t/18,textSize4:t/22}}var v=i(3),w=0,D=1,S=2,k=3,b=4;function O(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.on("pointerup",(function(e){t(E(e,i))}))}function E(e,t){var i=t.swipeThreshold||100,s=(e.upTime-e.downTime)/1e3,n=(e.upX-e.downX)/s,a=(e.upY-e.downY)/s,o=Math.abs(n),h=Math.abs(a),r={x:e.downX,y:e.downY};return o>h&&o>i?n<0?{gesture:D,origin:r}:{gesture:w,origin:r}:h>o&&h>i?a<0?{gesture:S,origin:r}:{gesture:k,origin:r}:{gesture:b,origin:r}}var C=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"MainMenu"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=Object(m.a)({},{maxGridSize:35,minGridSize:10,gridSize:20,maxSideLength:15,minSideLength:10,sideLength:10,gameMode:g.SOLO.id},{},e),this.handleGesture=this.handleGesture.bind(this)}},{key:"preload",value:function(){this.load.setBaseURL("https://raw.githubusercontent.com/wjxhenry/website/master")}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.WHITE),this.keys=this.input.keyboard.addKeys({up:"W",arrowUp:"up",down:"S",arrowDown:"down",select:"Enter"}),O(this.input,this.handleGesture),this.gameDimensions=y(this.game),this.choice=0,this.doubleTapTimer=0,this.doubleTapCooldown=200,this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Yet Another Maze",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize2}).setOrigin(.5,.5);var e=this.add.text(this.gameDimensions.screenCenter,8*this.gameDimensions.screenSpaceUnit,"Start Game",{fontFamily:"Ubuntu",fill:v.GOLD,fontSize:this.gameDimensions.textSize3});e.setOrigin(.5,.5);var t=this.add.text(this.gameDimensions.screenCenter,12*this.gameDimensions.screenSpaceUnit,"Settings",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize3});t.setOrigin(.5,.5),this.add.text(this.gameDimensions.screenCenter,16*this.gameDimensions.screenSpaceUnit,"Exit",{fontFamily:"Ubuntu",fill:v.GRAY,fontSize:this.gameDimensions.textSize3}).setOrigin(.5,.5),this.options=[{text:e,scene:f(this.settings.gameMode).scene},{text:t,scene:"Settings"}]}},{key:"handleGesture",value:function(e){e.gesture===S?this.updateChoice(-1):e.gesture===k?this.updateChoice(1):e.gesture===b&&((new Date).getTime()-this.doubleTapTimer<this.doubleTapCooldown&&this.scene.start(this.options[this.choice].scene,this.settings),this.doubleTapTimer=(new Date).getTime())}},{key:"update",value:function(){(p.a.Input.Keyboard.JustDown(this.keys.up)||p.a.Input.Keyboard.JustDown(this.keys.arrowUp))&&this.updateChoice(-1),(p.a.Input.Keyboard.JustDown(this.keys.down)||p.a.Input.Keyboard.JustDown(this.keys.arrowDown))&&this.updateChoice(1),p.a.Input.Keyboard.JustDown(this.keys.select)&&this.scene.start(this.options[this.choice].scene,this.settings)}},{key:"updateChoice",value:function(e){var t=this.choice+e;t>-1&&t<this.options.length&&(this.options[this.choice].text.setFill(v.BLACK),this.options[t].text.setFill(v.GOLD),this.choice=t)}}]),t}(p.a.Scene),x=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"Settings"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e,this.handleGesture=this.handleGesture.bind(this)}},{key:"preload",value:function(){this.load.setBaseURL("https://raw.githubusercontent.com/wjxhenry/website/master")}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.WHITE),this.keys=this.input.keyboard.addKeys({up:"W",arrowUp:"up",down:"S",arrowDown:"down",left:"A",arrowLeft:"left",right:"D",arrowRight:"right",select:"Enter"}),O(this.input,this.handleGesture),this.gameDimensions=y(this.game),this.choice=0,this.doubleTapTimer=0,this.doubleTapCooldown=200,this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Settings",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5);var e=this.add.text(this.gameDimensions.screenCenter,8*this.gameDimensions.screenSpaceUnit,"Grid size: ".concat(this.settings.gridSize),{fontFamily:"Ubuntu",fill:v.GOLD,fontSize:this.gameDimensions.textSize3});e.setOrigin(.5,.5),this.add.text(this.gameDimensions.screenCenter,11*this.gameDimensions.screenSpaceUnit,"Side length: ".concat(this.settings.sideLength),{fontFamily:"Ubuntu",fill:v.GRAY,fontSize:this.gameDimensions.textSize3}).setOrigin(.5,.5);var t=this.add.text(this.gameDimensions.screenCenter,14*this.gameDimensions.screenSpaceUnit,f(this.settings.gameMode).text,{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize3});t.setOrigin(.5,.5);var i=this.add.text(this.gameDimensions.screenCenter,17*this.gameDimensions.screenSpaceUnit,"Return",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize3});i.setOrigin(.5,.5),this.options=[e,t,i]}},{key:"handleGesture",value:function(e){e.gesture===S?this.updateChoice(-1):e.gesture===k?this.updateChoice(1):e.gesture===w?this.updateSelection(1):e.gesture===D?this.updateSelection(-1):e.gesture===b&&((new Date).getTime()-this.doubleTapTimer<this.doubleTapCooldown&&2===this.choice&&this.scene.start("MainMenu",this.settings),this.doubleTapTimer=(new Date).getTime())}},{key:"update",value:function(){(p.a.Input.Keyboard.JustDown(this.keys.up)||p.a.Input.Keyboard.JustDown(this.keys.arrowUp))&&this.updateChoice(-1),(p.a.Input.Keyboard.JustDown(this.keys.down)||p.a.Input.Keyboard.JustDown(this.keys.arrowDown))&&this.updateChoice(1),(p.a.Input.Keyboard.JustDown(this.keys.right)||p.a.Input.Keyboard.JustDown(this.keys.arrowRight))&&this.updateSelection(1),(p.a.Input.Keyboard.JustDown(this.keys.left)||p.a.Input.Keyboard.JustDown(this.keys.arrowLeft))&&this.updateSelection(-1),p.a.Input.Keyboard.JustDown(this.keys.select)&&2===this.choice&&this.scene.start("MainMenu",this.settings)}},{key:"updateChoice",value:function(e){var t=this.choice+e;t>-1&&t<this.options.length&&(this.options[this.choice].setFill(v.BLACK),this.options[t].setFill(v.GOLD),this.choice=t)}},{key:"updateSelection",value:function(e){0===this.choice?this.updateGridSize(e):1===this.choice&&this.updateGameMode(e)}},{key:"updateGridSize",value:function(e){var t=this.settings.gridSize+e;t>this.settings.minGridSize-1&&t<this.settings.maxGridSize+1&&(this.options[0].setText("Grid size: ".concat(t)),this.settings.gridSize=t)}},{key:"updateSideLength",value:function(e){var t=this.settings.sideLength+e;t>this.settings.minSideLength-1&&t<this.settings.maxSideLength+1&&(this.options[1].setText("Side length: ".concat(t)),this.settings.sideLength=t)}},{key:"updateGameMode",value:function(e){var t=this.settings.gameMode+e;t>-1&&t<Object.keys(g).length&&(this.options[1].setText(f(t).text),this.settings.gameMode=t)}}]),t}(p.a.Scene),T=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(h.a)(this,e),this.alist={},i.forEach((function(e){t.addVertex(e)})),s.forEach((function(e){t.addEdge(e)}))}return Object(r.a)(e,[{key:"getVertices",value:function(){return new Set(Object.keys(this.alist))}},{key:"getEdges",value:function(){var e=this,t=[];return Object.keys(this.alist).forEach((function(i){e.alist[i].forEach((function(e){Number.isInteger(e)?t.push([Number(i),e]):t.push([i,e])}))})),t}},{key:"addVertex",value:function(e){e in this.alist||(this.alist[e]=new Set)}},{key:"addEdge",value:function(e){if(!this.isVertex(e[0])||!this.isVertex(e[1]))throw new Error("An endpoint is not in graph");this.alist[e[0]].add(e[1])}},{key:"isVertex",value:function(e){return e in this.alist}},{key:"isEdge",value:function(e){return e[0]in this.alist&&this.alist[e[0]].has(e[1])}},{key:"neighbours",value:function(e){if(!this.isVertex(e))throw new Error("Vertex not in graph");return Array.from(this.alist[e])}}],[{key:"isWalk",value:function(e,t){if(0===t.length)return!1;if(1===t.length)return e.isVertex(t[0]);for(var i=0;i<t.length-1;i++)if(!e.isEdge([t[i],t[i+1]]))return!1;return!0}},{key:"isPath",value:function(e,t){return!(new Set(t).size<t.length)&&this.isWalk(e,t)}}]),e}(),z=i(560),M=function(e){function t(e,i,s){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.WHITE_0x;return Object(h.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,s))).size=s,n.game=e,n.graphics=i,n.graphics.setPosition(1,1),n.gameDimensions=y(n.game),n.sideLength=(n.gameDimensions.screenLength-2)/s,n.colour=a,n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"drawMaze",value:function(){var e=this;this.graphics.fillStyle(this.colour),this.maze.getVertices().forEach((function(t){var i=t.split(","),s=Number(i[0]),n=Number(i[1]),a=s*e.sideLength+1,o=n*e.sideLength+1,h=e.sideLength-2,r=e.sideLength-2;e.maze.isEdge([t,"".concat(s-1,",").concat(n)])&&(a-=1,h+=1),e.maze.isEdge([t,"".concat(s+1,",").concat(n)])&&(h+=1),e.maze.isEdge([t,"".concat(s,",").concat(n-1)])&&(o-=1,r+=1),e.maze.isEdge([t,"".concat(s,",").concat(n+1)])&&(r+=1),e.graphics.fillRect(a,o,h,r)}))}},{key:"fillGrid",value:function(e,t){this.graphics.fillStyle(t),this.graphics.fillRect(e.x*this.sideLength+1,e.y*this.sideLength+1,this.sideLength-2,this.sideLength-2)}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(h.a)(this,e),this.maze=this._createGrid(t),this._createMaze("".concat(Math.floor(t/2),",").concat(Math.floor(t/2)))}return Object(r.a)(e,[{key:"getVertices",value:function(){return this.maze.getVertices()}},{key:"isEdge",value:function(e){return this.maze.isEdge(e)}},{key:"_createGrid",value:function(e){for(var t=new T,i=0;i<e;i++)for(var s=0;s<e;s++)t.addVertex("".concat(i,",").concat(s));return t}},{key:"_createMaze",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==s&&(s=this.getVertices()),null==i&&(i=new Set(e));var n=Object(z.shuffle)(["up","down","left","right"]),a=e.split(",").map((function(e){return parseInt(e)})),o="".concat(a[0],",").concat(a[1]-1),h="".concat(a[0],",").concat(a[1]+1),r="".concat(a[0]-1,",").concat(a[1]),c="".concat(a[0]+1,",").concat(a[1]);n.forEach((function(n){"up"===n?s.has(o)&&!i.has(o)&&(t.maze.addEdge([e,o]),t.maze.addEdge([o,e]),i.add(o),t._createMaze(o,i,s)):"down"===n?s.has(h)&&!i.has(h)&&(t.maze.addEdge([e,h]),t.maze.addEdge([h,e]),i.add(h),t._createMaze(h,i,s)):"left"===n?s.has(r)&&!i.has(r)&&(t.maze.addEdge([e,r]),t.maze.addEdge([r,e]),i.add(r),t._createMaze(r,i,s)):"right"===n&&s.has(c)&&!i.has(c)&&(t.maze.addEdge([e,c]),t.maze.addEdge([c,e]),i.add(c),t._createMaze(c,i,s))}))}}]),e}()),G={UP:0,DOWN:1,LEFT:2,RIGHT:3},I=function(){function e(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(h.a)(this,e),this.maze=t,this.position=i,this.prevPos=i,this.colour=s.colour||v.GOLD_0x,this.smoothMovement=s.smoothMovement||!1,this.UPDATE_STEPS=s.updateSteps||5,this.updating=!1,this.updateStep=0}return Object(r.a)(e,[{key:"drawCharacter",value:function(){this.maze.fillGrid(this.position,this.colour)}},{key:"moveCharacter",value:function(e){if(!this.updating){var t=Object(m.a)({},this.position),i=Object(m.a)({},this.position);e===G.UP?(i.y-=1,i.y<0&&(i.y=0)):e===G.DOWN?(i.y+=1,i.y>this.maze.size-1&&(i.y=this.maze.size-1)):e===G.LEFT?(i.x-=1,i.x<0&&(i.x=0)):e===G.RIGHT&&(i.x+=1,i.x>this.maze.size-1&&(i.x=this.maze.size-1)),this.maze.isEdge(["".concat(t.x,",").concat(t.y),"".concat(i.x,",").concat(i.y)])&&(this.position=i,this.prevPos=t,this.smoothMovement?this.updating=!0:(this.maze.fillGrid(this.prevPos,this.maze.colour),this.maze.fillGrid(this.position,this.colour)))}}},{key:"update",value:function(){this.updating&&this._smoothMovement(this.prevPos,this.position)}},{key:"isUpdating",value:function(){return this.updating}},{key:"_smoothMovement",value:function(){var e=Math.round(this.position.x-this.prevPos.x),t=Math.round(this.position.y-this.prevPos.y);if(0!==e){var i=Object(m.a)({},this.prevPos,{x:Math.round(10*(this.prevPos.x+1/this.UPDATE_STEPS*this.updateStep*e))/10}),s=Object(m.a)({},this.prevPos,{x:Math.round(10*(this.prevPos.x+1/this.UPDATE_STEPS*(this.updateStep+1)*e))/10});this.maze.fillGrid(i,this.maze.colour),this.maze.fillGrid(s,this.colour)}else{var n=Object(m.a)({},this.prevPos,{y:Math.round(10*(this.prevPos.y+1/this.UPDATE_STEPS*this.updateStep*t))/10}),a=Object(m.a)({},this.prevPos,{y:Math.round(10*(this.prevPos.y+1/this.UPDATE_STEPS*(this.updateStep+1)*t))/10});this.maze.fillGrid(n,this.maze.colour),this.maze.fillGrid(a,this.colour)}this.updateStep++,this.updateStep%this.UPDATE_STEPS===0&&(this.updateStep=0,this.updating=!1)}}],[{key:"DIRECTIONS",get:function(){return G}}]),e}(),U=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"GamemodeSolo"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e,this.handleGesture=this.handleGesture.bind(this),this.actionClock=0,this.actionCooldown=100}},{key:"preload",value:function(){}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.BLACK_0x),this.keys=this.input.keyboard.addKeys({up:"W",arrowUp:"up",down:"S",arrowDown:"down",left:"A",arrowLeft:"left",right:"D",arrowRight:"right",exit:"Esc"}),O(this.input,this.handleGesture),this.graphics=this.add.graphics(),this.maze=new M(this.game,this.graphics,this.settings.gridSize);this.character=new I(this.maze,{x:0,y:0},{smoothMovement:!0}),this.endPoint={x:this.settings.gridSize-1,y:this.settings.gridSize-1},this.maze.drawMaze(),this.maze.fillGrid(this.endPoint,v.GRAY_0x),this.character.drawCharacter(),this.timer=(new Date).getTime()}},{key:"handleGesture",value:function(e){e.gesture===D?this.updateMovement(I.DIRECTIONS.LEFT):e.gesture===w?this.updateMovement(I.DIRECTIONS.RIGHT):e.gesture===S?this.updateMovement(I.DIRECTIONS.UP):e.gesture===k&&this.updateMovement(I.DIRECTIONS.DOWN)}},{key:"updateMovement",value:function(e){if(this.character.moveCharacter(e),this.character.position.x===this.endPoint.x&&this.character.position.y===this.endPoint.y){var t=Math.floor(((new Date).getTime()-this.timer)/1e3);this.scene.start("EndScreen",{settings:this.settings,results:{gameMode:g.SOLO.id,message:"Time: ".concat(t," s"),messageColour:v.BLACK}})}}},{key:"update",value:function(){p.a.Input.Keyboard.JustDown(this.keys.exit)&&this.scene.start("MainMenu",this.settings),(new Date).getTime()-this.actionClock>this.actionCooldown&&(this.keys.up.isDown||this.keys.arrowUp.isDown?(this.updateMovement(I.DIRECTIONS.UP),this.actionClock=(new Date).getTime()):this.keys.down.isDown||this.keys.arrowDown.isDown?(this.updateMovement(I.DIRECTIONS.DOWN),this.actionClock=(new Date).getTime()):this.keys.left.isDown||this.keys.arrowLeft.isDown?(this.updateMovement(I.DIRECTIONS.LEFT),this.actionClock=(new Date).getTime()):(this.keys.right.isDown||this.keys.arrowRight.isDown)&&(this.updateMovement(I.DIRECTIONS.RIGHT),this.actionClock=(new Date).getTime())),this.character.update()}}]),t}(p.a.Scene),L=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"GamemodeTwoPlayer"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e,this.handleGesture=this.handleGesture.bind(this),this.p1ActionClock=0,this.p2ActionClock=0,this.actionCooldown=100}},{key:"preload",value:function(){}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.BLACK_0x),this.keys=this.input.keyboard.addKeys({p1Up:"up",p2Up:"W",p1Down:"down",p2Down:"S",p1Left:"left",p2Left:"A",p1Right:"right",p2Right:"D",exit:"Esc"}),this.screenHalfway=this.game.config.width/2,O(this.input,this.handleGesture),this.graphics=this.add.graphics(),this.maze=new M(this.game,this.graphics,this.settings.gridSize);var e=this.generateRandomPositions(),t=e.p1,i=e.p2;this.p1EndPoint=e.p2,this.p2EndPoint=e.p1,this.player1=new I(this.maze,t,{smoothMovement:!0,colour:v.BLUE_0x}),this.player2=new I(this.maze,i,{smoothMovement:!0,colour:v.GREEN_0x}),this.maze.drawMaze(),this.player1.drawCharacter(),this.player2.drawCharacter(),this.timer=(new Date).getTime()}},{key:"generateRandomPositions",value:function(){var e=this.settings.gridSize-1;return[{p1:{x:0,y:0},p2:{x:e,y:e}},{p1:{x:e,y:0},p2:{x:0,y:e}},{p1:{x:0,y:e},p2:{x:e,y:0}},{p1:{x:e,y:e},p2:{x:0,y:0}}][Math.floor(4*Math.random())]}},{key:"handleGesture",value:function(e){e.gesture===D?e.origin.y>this.screenHalfway?this.p1UpdateMovement(I.DIRECTIONS.LEFT):this.p2UpdateMovement(I.DIRECTIONS.LEFT):e.gesture===w?e.origin.y>this.screenHalfway?this.p1UpdateMovement(I.DIRECTIONS.RIGHT):this.p2UpdateMovement(I.DIRECTIONS.RIGHT):e.gesture===S?e.origin.y>this.screenHalfway?this.p1UpdateMovement(I.DIRECTIONS.UP):this.p2UpdateMovement(I.DIRECTIONS.UP):e.gesture===k&&(e.origin.y>this.screenHalfway?this.p1UpdateMovement(I.DIRECTIONS.DOWN):this.p2UpdateMovement(I.DIRECTIONS.DOWN))}},{key:"p1UpdateMovement",value:function(e){this.player1.moveCharacter(e),this.player1.position.x===this.p1EndPoint.x&&this.player1.position.y===this.p1EndPoint.y&&this.scene.start("EndScreen",{settings:this.settings,results:{gameMode:g.TWO_PLAYER.id,message:"Player 1 wins!",messageColour:v.BLUE}})}},{key:"p2UpdateMovement",value:function(e){this.player2.moveCharacter(e),this.player2.position.x===this.p2EndPoint.x&&this.player2.position.y===this.p2EndPoint.y&&this.scene.start("EndScreen",{settings:this.settings,results:{gameMode:g.TWO_PLAYER.id,message:"Player 2 wins!",messageColour:v.GREEN}})}},{key:"update",value:function(){p.a.Input.Keyboard.JustDown(this.keys.exit)&&this.scene.start("MainMenu",this.settings);var e=(new Date).getTime();e-this.p1ActionClock>this.actionCooldown&&(this.keys.p1Up.isDown?(this.p1UpdateMovement(I.DIRECTIONS.UP),this.p1ActionClock=(new Date).getTime()):this.keys.p1Down.isDown?(this.p1UpdateMovement(I.DIRECTIONS.DOWN),this.p1ActionClock=(new Date).getTime()):this.keys.p1Left.isDown?(this.p1UpdateMovement(I.DIRECTIONS.LEFT),this.p1ActionClock=(new Date).getTime()):this.keys.p1Right.isDown&&(this.p1UpdateMovement(I.DIRECTIONS.RIGHT),this.p1ActionClock=(new Date).getTime())),e-this.p2ActionClock>this.actionCooldown&&(this.keys.p2Up.isDown?(this.p2UpdateMovement(I.DIRECTIONS.UP),this.p2ActionClock=(new Date).getTime()):this.keys.p2Down.isDown?(this.p2UpdateMovement(I.DIRECTIONS.DOWN),this.p2ActionClock=(new Date).getTime()):this.keys.p2Left.isDown?(this.p2UpdateMovement(I.DIRECTIONS.LEFT),this.p2ActionClock=(new Date).getTime()):this.keys.p2Right.isDown&&(this.p2UpdateMovement(I.DIRECTIONS.RIGHT),this.p2ActionClock=(new Date).getTime())),this.player1.update(),this.player2.update(),this.player1.isUpdating()||(this.maze.fillGrid(this.p2EndPoint,v.GREEN_0x),this.player1.drawCharacter()),this.player2.isUpdating()||(this.maze.fillGrid(this.p1EndPoint,v.BLUE_0x),this.player2.drawCharacter())}}]),t}(p.a.Scene),j=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"GamemodeRace"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e.settings,this.handleGesture=this.handleGesture.bind(this)}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.WHITE),this.keys=this.input.keyboard.addKeys({continue:"Enter"}),O(this.input,this.handleGesture),this.gameDimensions=y(this.game),this.drawScreen()}},{key:"drawScreen",value:function(){this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Race (WIP)",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5)}},{key:"handleGesture",value:function(e){e.gesture===b&&this.scene.start("MainMenu",this.settings)}},{key:"update",value:function(){p.a.Input.Keyboard.JustDown(this.keys.continue)&&this.scene.start("MainMenu",this.settings)}}]),t}(p.a.Scene),R=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"GamemodeChase"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e.settings,this.handleGesture=this.handleGesture.bind(this)}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.WHITE),this.keys=this.input.keyboard.addKeys({continue:"Enter"}),O(this.input,this.handleGesture),this.gameDimensions=y(this.game),this.drawScreen()}},{key:"drawScreen",value:function(){this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Chase (WIP)",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5)}},{key:"handleGesture",value:function(e){e.gesture===b&&this.scene.start("MainMenu",this.settings)}},{key:"update",value:function(){p.a.Input.Keyboard.JustDown(this.keys.continue)&&this.scene.start("MainMenu",this.settings)}}]),t}(p.a.Scene),P=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"GamemodeEscape"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e.settings,this.handleGesture=this.handleGesture.bind(this)}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.WHITE),this.keys=this.input.keyboard.addKeys({continue:"Enter"}),O(this.input,this.handleGesture),this.gameDimensions=y(this.game),this.drawScreen()}},{key:"drawScreen",value:function(){this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Escape (WIP)",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5)}},{key:"handleGesture",value:function(e){e.gesture===b&&this.scene.start("MainMenu",this.settings)}},{key:"update",value:function(){p.a.Input.Keyboard.JustDown(this.keys.continue)&&this.scene.start("MainMenu",this.settings)}}]),t}(p.a.Scene),A=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"EndScreen"))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"init",value:function(e){this.settings=e.settings,this.results=e.results,this.handleGesture=this.handleGesture.bind(this)}},{key:"create",value:function(){this.cameras.main.setBackgroundColor(v.WHITE),this.keys=this.input.keyboard.addKeys({continue:"Enter"}),O(this.input,this.handleGesture),this.gameDimensions=y(this.game),this.drawScreen()}},{key:"drawScreen",value:function(){this.add.text(this.gameDimensions.screenCenter,4*this.gameDimensions.screenSpaceUnit,"Game Over",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize1}).setOrigin(.5,.5),this.add.text(this.gameDimensions.screenCenter,9*this.gameDimensions.screenSpaceUnit,this.results.message,{fontFamily:"Ubuntu",fill:this.results.messageColour,fontSize:this.gameDimensions.textSize2}).setOrigin(.5,.5),this.add.text(this.gameDimensions.screenCenter,15*this.gameDimensions.screenSpaceUnit,"Press enter to exit to menu.",{fontFamily:"Ubuntu",fill:v.BLACK,fontSize:this.gameDimensions.textSize4}).setOrigin(.5,.5)}},{key:"handleGesture",value:function(e){e.gesture===b&&this.scene.start("MainMenu",this.settings)}},{key:"update",value:function(){p.a.Input.Keyboard.JustDown(this.keys.continue)&&this.scene.start("MainMenu",this.settings)}}]),t}(p.a.Scene),K=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this._getDimensions(),t={type:p.a.AUTO,parent:"phaser-parent",pixelArt:!0,width:.8*e,height:.8*e,physics:{default:"arcade",arcade:{gravity:{y:200}}},input:{activePointers:5},scene:[C,x,U,L,j,R,P,A]};new p.a.Game(t)}},{key:"_getDimensions",value:function(){var e=window.innerWidth,t=window.innerHeight;return e<t?e:t}},{key:"render",value:function(){return n.a.createElement("div",{id:"phaser-parent"})}}]),t}(n.a.Component),N=(i(1485),function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(K,null))}}]),t}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},3:function(e,t){e.exports={BLACK:"#000000",BLACK_0x:"0x000000",GOLD:"#f9a602",GOLD_0x:"0xf9a602",GRAY:"#cccccc",GRAY_0x:"0xcccccc",WHITE:"#ffffff",WHITE_0x:"0xffffff",BLUE:"#0000ff",BLUE_0x:"0x0000ff",GREEN:"#00ff00",GREEN_0x:"0x00ff00"}},560:function(e,t){e.exports={shuffle:function(e){for(var t,i,s=e.length;0!==s;)i=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[i],e[i]=t;return e}}},561:function(e,t,i){e.exports=i(1486)},566:function(e,t,i){}},[[561,1,2]]]);
//# sourceMappingURL=main.8425d407.chunk.js.map